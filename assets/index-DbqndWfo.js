(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();const Ae=(e,t)=>e===t,P=Symbol("solid-proxy"),Q=Symbol("solid-track"),B={equals:Ae};let oe=de;const E=1,F=2,fe={owned:null,cleanups:null,context:null,owner:null};var p=null;let Y=null,Se=null,y=null,w=null,O=null,X=0;function q(e,t){const n=y,s=p,i=e.length===0,r=t===void 0?s:t,o=i?fe:{owned:null,cleanups:null,context:r?r.context:null,owner:r},l=i?e:()=>e(()=>C(()=>V(o)));p=o,y=null;try{return T(l,!0)}finally{y=n,p=s}}function I(e,t){t=t?Object.assign({},B,t):B;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=i=>(typeof i=="function"&&(i=i(n.value)),ae(n,i));return[ce.bind(n),s]}function _(e,t,n){const s=ne(e,t,!1,E);M(s)}function ve(e,t,n){oe=Ce;const s=ne(e,t,!1,E);(!n||!n.render)&&(s.user=!0),O?O.push(s):M(s)}function te(e,t,n){n=n?Object.assign({},B,n):B;const s=ne(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,M(s),ce.bind(s)}function k(e){return T(e,!1)}function C(e){if(y===null)return e();const t=y;y=null;try{return e()}finally{y=t}}function xe(e,t,n){const s=Array.isArray(e);let i,r=n&&n.defer;return o=>{let l;if(s){l=Array(e.length);for(let u=0;u<e.length;u++)l[u]=e[u]()}else l=e();if(r){r=!1;return}const f=C(()=>t(l,i,o));return i=l,f}}function ue(e){ve(()=>C(e))}function Oe(e){return p===null||(p.cleanups===null?p.cleanups=[e]:p.cleanups.push(e)),e}function J(){return y}function ce(){if(this.sources&&this.state)if(this.state===E)M(this);else{const e=w;w=null,T(()=>K(this),!1),w=e}if(y){const e=this.observers?this.observers.length:0;y.sources?(y.sources.push(this),y.sourceSlots.push(e)):(y.sources=[this],y.sourceSlots=[e]),this.observers?(this.observers.push(y),this.observerSlots.push(y.sources.length-1)):(this.observers=[y],this.observerSlots=[y.sources.length-1])}return this.value}function ae(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&T(()=>{for(let i=0;i<e.observers.length;i+=1){const r=e.observers[i],o=Y&&Y.running;o&&Y.disposed.has(r),(o?!r.tState:!r.state)&&(r.pure?w.push(r):O.push(r),r.observers&&he(r)),o||(r.state=E)}if(w.length>1e6)throw w=[],new Error},!1)),t}function M(e){if(!e.fn)return;V(e);const t=X;Pe(e,e.value,t)}function Pe(e,t,n){let s;const i=p,r=y;y=p=e;try{s=e.fn(t)}catch(o){return e.pure&&(e.state=E,e.owned&&e.owned.forEach(V),e.owned=null),e.updatedAt=n+1,ge(o)}finally{y=r,p=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?ae(e,s):e.value=s,e.updatedAt=n)}function ne(e,t,n,s=E,i){const r={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:p,context:p?p.context:null,pure:n};return p===null||p!==fe&&(p.owned?p.owned.push(r):p.owned=[r]),r}function U(e){if(e.state===0)return;if(e.state===F)return K(e);if(e.suspense&&C(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<X);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===E)M(e);else if(e.state===F){const s=w;w=null,T(()=>K(e,t[0]),!1),w=s}}function T(e,t){if(w)return e();let n=!1;t||(w=[]),O?n=!0:O=[],X++;try{const s=e();return Ee(n),s}catch(s){n||(O=null),w=null,ge(s)}}function Ee(e){if(w&&(de(w),w=null),e)return;const t=O;O=null,t.length&&T(()=>oe(t),!1)}function de(e){for(let t=0;t<e.length;t++)U(e[t])}function Ce(e){let t,n=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[n++]=s:U(s)}for(t=0;t<n;t++)U(e[t])}function K(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const i=s.state;i===E?s!==t&&(!s.updatedAt||s.updatedAt<X)&&U(s):i===F&&K(s,t)}}}function he(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=F,n.pure?w.push(n):O.push(n),n.observers&&he(n))}}function V(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const r=i.pop(),o=n.observerSlots.pop();s<i.length&&(r.sourceSlots[o]=s,i[s]=r,n.observerSlots[s]=o)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)V(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function _e(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ge(e,t=p){throw _e(e)}const je=Symbol("fallback");function se(e){for(let t=0;t<e.length;t++)e[t]()}function Ne(e,t,n={}){let s=[],i=[],r=[],o=0,l=t.length>1?[]:null;return Oe(()=>se(r)),()=>{let f=e()||[],u,c;return f[Q],C(()=>{let a=f.length,h,g,b,m,S,$,A,v,j;if(a===0)o!==0&&(se(r),r=[],s=[],i=[],o=0,l&&(l=[])),n.fallback&&(s=[je],i[0]=q($e=>(r[0]=$e,n.fallback())),o=1);else if(o===0){for(i=new Array(a),c=0;c<a;c++)s[c]=f[c],i[c]=q(d);o=a}else{for(b=new Array(a),m=new Array(a),l&&(S=new Array(a)),$=0,A=Math.min(o,a);$<A&&s[$]===f[$];$++);for(A=o-1,v=a-1;A>=$&&v>=$&&s[A]===f[v];A--,v--)b[v]=i[A],m[v]=r[A],l&&(S[v]=l[A]);for(h=new Map,g=new Array(v+1),c=v;c>=$;c--)j=f[c],u=h.get(j),g[c]=u===void 0?-1:u,h.set(j,c);for(u=$;u<=A;u++)j=s[u],c=h.get(j),c!==void 0&&c!==-1?(b[c]=i[u],m[c]=r[u],l&&(S[c]=l[u]),c=g[c],h.set(j,c)):r[u]();for(c=$;c<a;c++)c in b?(i[c]=b[c],r[c]=m[c],l&&(l[c]=S[c],l[c](c))):i[c]=q(d);i=i.slice(0,o=a),s=f.slice(0)}return i});function d(a){if(r[c]=a,l){const[h,g]=I(c);return l[c]=g,t(f[c],h)}return t(f[c])}}}function ye(e,t){return C(()=>e(t||{}))}function ze(e){const t="fallback"in e&&{fallback:()=>e.fallback};return te(Ne(()=>e.each,e.children,t||void 0))}function Le(e,t,n){let s=n.length,i=t.length,r=s,o=0,l=0,f=t[i-1].nextSibling,u=null;for(;o<i||l<r;){if(t[o]===n[l]){o++,l++;continue}for(;t[i-1]===n[r-1];)i--,r--;if(i===o){const c=r<s?l?n[l-1].nextSibling:n[r-l]:f;for(;l<r;)e.insertBefore(n[l++],c)}else if(r===l)for(;o<i;)(!u||!u.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[r-1]&&n[l]===t[i-1]){const c=t[--i].nextSibling;e.insertBefore(n[l++],t[o++].nextSibling),e.insertBefore(n[--r],c),t[i]=n[r]}else{if(!u){u=new Map;let d=l;for(;d<r;)u.set(n[d],d++)}const c=u.get(t[o]);if(c!=null)if(l<c&&c<r){let d=o,a=1,h;for(;++d<i&&d<r&&!((h=u.get(t[d]))==null||h!==c+a);)a++;if(a>c-l){const g=t[o];for(;l<c;)e.insertBefore(n[l++],g)}else e.replaceChild(n[l++],t[o++])}else o++;else t[o++].remove()}}}const re="_$DX_DELEGATE";function Te(e,t,n,s={}){let i;return q(r=>{i=r,t===document?e():z(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{i(),t.textContent=""}}function R(e,t,n){let s;const i=()=>{const o=document.createElement("template");return o.innerHTML=e,n?o.content.firstChild.firstChild:o.content.firstChild},r=t?()=>C(()=>document.importNode(s||(s=i()),!0)):()=>(s||(s=i())).cloneNode(!0);return r.cloneNode=r,r}function ke(e,t=window.document){const n=t[re]||(t[re]=new Set);for(let s=0,i=e.length;s<i;s++){const r=e[s];n.has(r)||(n.add(r),t.addEventListener(r,Me))}}function De(e,t,n){return C(()=>e(t,n))}function z(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return G(e,t,s,n);_(i=>G(e,t(),i,n),s)}function Me(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const s=n[t];if(s&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?s.call(n,i,e):s.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function G(e,t,n,s,i){for(;typeof n=="function";)n=n();if(t===n)return n;const r=typeof t,o=s!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,r==="string"||r==="number")if(r==="number"&&(t=t.toString()),o){let l=n[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),n=N(e,n,s,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||r==="boolean")n=N(e,n,s);else{if(r==="function")return _(()=>{let l=t();for(;typeof l=="function";)l=l();n=G(e,l,n,s)}),()=>n;if(Array.isArray(t)){const l=[],f=n&&Array.isArray(n);if(Z(l,t,n,i))return _(()=>n=G(e,l,n,s,!0)),()=>n;if(l.length===0){if(n=N(e,n,s),o)return n}else f?n.length===0?ie(e,l,s):Le(e,n,l):(n&&N(e),ie(e,l));n=l}else if(t.nodeType){if(Array.isArray(n)){if(o)return n=N(e,n,s,t);N(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Z(e,t,n,s){let i=!1;for(let r=0,o=t.length;r<o;r++){let l=t[r],f=n&&n[e.length],u;if(!(l==null||l===!0||l===!1))if((u=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))i=Z(e,l,f)||i;else if(u==="function")if(s){for(;typeof l=="function";)l=l();i=Z(e,Array.isArray(l)?l:[l],Array.isArray(f)?f:[f])||i}else e.push(l),i=!0;else{const c=String(l);f&&f.nodeType===3&&f.data===c?e.push(f):e.push(document.createTextNode(c))}}return i}function ie(e,t,n=null){for(let s=0,i=t.length;s<i;s++)e.insertBefore(t[s],n)}function N(e,t,n,s){if(n===void 0)return e.textContent="";const i=s||document.createTextNode("");if(t.length){let r=!1;for(let o=t.length-1;o>=0;o--){const l=t[o];if(i!==l){const f=l.parentNode===e;!r&&!o?f?e.replaceChild(i,l):e.insertBefore(i,n):f&&l.remove()}else r=!0}}else e.insertBefore(i,n);return[i]}const ee=Symbol("store-raw"),L=Symbol("store-node"),x=Symbol("store-has"),pe=Symbol("store-self");function be(e){let t;return e!=null&&typeof e=="object"&&(e[P]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function H(e,t=new Set){let n,s,i,r;if(n=e!=null&&e[ee])return n;if(!be(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let o=0,l=e.length;o<l;o++)i=e[o],(s=H(i,t))!==i&&(e[o]=s)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const o=Object.keys(e),l=Object.getOwnPropertyDescriptors(e);for(let f=0,u=o.length;f<u;f++)r=o[f],!l[r].get&&(i=e[r],(s=H(i,t))!==i&&(e[r]=s))}return e}function W(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function D(e,t,n){if(e[t])return e[t];const[s,i]=I(n,{equals:!1,internal:!0});return s.$=i,e[t]=s}function we(e){J()&&D(W(e,L),pe)()}function Re(e){return we(e),Reflect.ownKeys(e)}function le(e,t,n,s=!1){if(!s&&e[t]===n)return;const i=e[t],r=e.length;n===void 0?(delete e[t],e[x]&&e[x][t]&&i!==void 0&&e[x][t].$()):(e[t]=n,e[x]&&e[x][t]&&i===void 0&&e[x][t].$());let o=W(e,L),l;if((l=D(o,t,i))&&l.$(()=>n),Array.isArray(e)&&e.length!==r){for(let f=e.length;f<r;f++)(l=o[f])&&l.$();(l=D(o,"length",r))&&l.$(e.length)}(l=o[pe])&&l.$()}function qe(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||n.set||!n.configurable||t===P||t===L||(delete n.value,delete n.writable,n.get=()=>e[P][t],n.set=s=>e[P][t]=s),n}const Be={get(e,t,n){if(t===ee)return e;if(t===P)return n;if(t===Q)return we(e),n;const s=W(e,L),i=s[t];let r=i?i():e[t];if(t===L||t===x||t==="__proto__")return r;if(!i){const o=Object.getOwnPropertyDescriptor(e,t),l=typeof r=="function";if(J()&&(!l||e.hasOwnProperty(t))&&!(o&&o.get))r=D(s,t,r)();else if(r!=null&&l&&r===Array.prototype[t])return(...f)=>k(()=>Array.prototype[t].apply(n,f))}return be(r)?me(r):r},has(e,t){return t===ee||t===P||t===Q||t===L||t===x||t==="__proto__"?!0:(J()&&D(W(e,x),t)(),t in e)},set(e,t,n){return k(()=>le(e,t,H(n))),!0},deleteProperty(e,t){return k(()=>le(e,t,void 0,!0)),!0},ownKeys:Re,getOwnPropertyDescriptor:qe};function me(e){let t=e[P];if(!t){Object.defineProperty(e,P,{value:t=new Proxy(e,Be)});const n=Object.keys(e),s=Object.getOwnPropertyDescriptors(e),i=Object.getPrototypeOf(e),r=e!==null&&typeof e=="object"&&!Array.isArray(e)&&i!==Object.prototype;if(r){const o=Object.getOwnPropertyDescriptors(i);n.push(...Object.keys(o)),Object.assign(s,o)}for(let o=0,l=n.length;o<l;o++){const f=n[o];if(!(r&&f==="constructor")){if(s[f].get){const u=s[f].get.bind(t);Object.defineProperty(e,f,{get:u,configurable:!0})}if(s[f].set){const u=s[f].set;Object.defineProperty(e,f,{set:d=>k(()=>u.call(t,d)),configurable:!0})}}}}return t}function Fe(e,t){const n=H(e||{});return me(n)}function Ie(e){if(!(e.length>1))return e;for(let t=e.length-1,n=t,s=t<=1;s?n<=1:n>=1;s?++n:--n){const i=n,r=Math.floor(Math.random()*(i+1));i!==r&&([e[i],e[r]]=[e[r],e[i]])}return e}function Ue(e){const t=e.length,n=[];let s=0;for(let i=t-1,r=0,o=0<=i;o?r<i:r>i;o?++r:--r){const l=r;if(n[l])continue;n[l]=!0;let f=e[l],u=1;for(;l!==f;)n[f]=!0,f=e[f],u++;s+=u-1}return s%2===1}var Ke=R("<div class=game>"),Ge=R("<div class=square><span class=number>"),He=(e,t)=>e?t:!t||e;function We(e){const t=Fe({squares:[],location:{}});function n(f,u,c){u!=null&&(f.x=u),c!=null&&(f.y=c),t.location[`${f.x},${f.y}`]=f}_(xe(()=>e.n,()=>{const{n:f}=e;t.location={},t.squares=[{i:0,x:f-1,y:f-1}];for(let u=0,c=0<=f;c?u<f:u>f;c?++u:--u){const d=u;for(let a=0,h=0<=f;h?a<f:a>f;h?++a:--a){const g=a;if(g===d&&d===f-1)continue;const b={i:d*f+g+1,x:g,y:d};t.squares.push(b)}}for(let u=t.squares,c=0,d=u.length;c<d;c++){const a=u[c];n(a)}return setTimeout(()=>s(!0),0)}));function s(f){k(()=>{const{n:u}=e;for(const c in((d,a)=>{let h=a>d?1:-1;return Array.from({length:Math.abs(a-d)},(g,b)=>d+b*h)})(0,100)){const d=Ie(t.squares.slice(0));let a=0;for(let h=0,g=0<=u;g?h<u:h>u;g?++h:--h){const b=h;for(let m=0,S=0<=u;S?m<u:m>u;S?++m:--m){const $=m;n(d[a++],$,b)}}if(He(i(),f))return}return console.log("Extremely unlucky: 100 failed trials")})}function i(){const{n:f}=e;if(f<=1)return!0;const u=[];for(let a=0,h=0<=f;h?a<f:a>f;h?++a:--a){const g=a;for(let b=0,m=0<=f;m?b<f:b>f;m?++b:--b){const S=b;u.push(t.location[`${S},${g}`].i)}}const c=+Ue(u),d=f-1-t.squares[0].x+(f-1-t.squares[0].y);return(c+d)%2===0}ue(()=>window.addEventListener("keydown",f=>{let u=0,c=0;switch(f.key){case"ArrowUp":{c=1;break}case"ArrowDown":{c=-1;break}case"ArrowLeft":{u=1;break}case"ArrowRight":{u=-1;break}}if(u||c){const d=t.squares[0],a=d.x+u,h=d.y+c;if(!(0<=a&&a<e.n&&0<=h&&h<e.n))return;const g=t.location[`${a},${h}`];return n(g,d.x,d.y),n(d,a,h),f.preventDefault()}}));const r=.9,o=te(()=>(1-r)/e.n*100/2/(r/e.n));let l;return(l=(()=>{var f=Ke();return z(f,ye(ze,{get each(){return t.squares},children:u=>u.i?(()=>{var c=Ge(),d=c.firstChild;return z(d,()=>u.i),_(()=>`translate(${u.x*100/r+o()}%, ${u.y*100/r+o()}%)`!=null?c.style.setProperty("transform",`translate(${u.x*100/r+o()}%, ${u.y*100/r+o()}%)`):c.style.removeProperty("transform")),c})():void 0})),_(u=>{var c=`calc(${100*r/e.n}%)`,d=`clamp(1rem, ${.8*r/e.n} * var(--main-size) - 40px, 100rem)`;return c!==u.e&&((u.e=c)!=null?f.style.setProperty("--square-size",c):f.style.removeProperty("--square-size")),d!==u.t&&((u.t=d)!=null?f.style.setProperty("--font-size",d):f.style.removeProperty("--font-size")),u},{e:void 0,t:void 0}),f})()).randomize=s,l}var Xe=R("<header><sup>2</sup>&thinsp;&minus;&thinsp;1 = <!> Sliding Squares Puzzle"),Ve=R("<main><div class=container>"),Ye=R("<footer><span><i>n</i>&nbsp;=&nbsp;<input id=n type=number min=2 value=3></span><span class=buttons><button>Random Solvable</button><button>Random Unsolvable</button></span><a href=https://github.com/edemaine/sliding-squares-puzzle>Source code on GitHub");function Qe(){const[e,t]=I(3),n=te(()=>We({n:e()})),[s,i]=I();let r;return ue(()=>{let o;return(o=new ResizeObserver(l=>{const f=[];for(const u of l){const c=u.borderBoxSize[0];f.push(i(Math.min(c.inlineSize,c.blockSize)))}return f})).observe(r),o}),[(()=>{var o=Xe(),l=o.firstChild,f=l.nextSibling,u=f.nextSibling;return u.nextSibling,z(o,e,l),z(o,()=>e()**2-1,u),o})(),(()=>{var o=Ve(),l=o.firstChild,f=r;return typeof f=="function"?De(f,o):r=o,z(l,n),_(u=>{var c=s()?`${s()}px`:void 0,d=`min(100%, ${s()}px)`,a=`min(100%, ${s()}px)`;return c!==u.e&&((u.e=c)!=null?o.style.setProperty("--main-size",c):o.style.removeProperty("--main-size")),d!==u.t&&((u.t=d)!=null?l.style.setProperty("width",d):l.style.removeProperty("width")),a!==u.a&&((u.a=a)!=null?l.style.setProperty("height",a):l.style.removeProperty("height")),u},{e:void 0,t:void 0,a:void 0}),o})(),(()=>{var o=Ye(),l=o.firstChild,f=l.firstChild,u=f.nextSibling,c=u.nextSibling,d=l.nextSibling,a=d.firstChild,h=a.nextSibling;return c.$$input=g=>t(g.target.valueAsNumber),a.$$click=g=>n().randomize(!0),h.$$click=g=>n().randomize(!1),o})()]}ke(["input","click"]);Te(()=>ye(Qe,{}),document.getElementById("root"));
